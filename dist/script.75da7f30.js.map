{"version":3,"sources":["node_modules/node-fetch/browser.js","node_modules/shrtco.de/node_modules/form-data/lib/browser.js","node_modules/shrtco.de/index.js","script.js"],"names":["getGlobal","self","window","global","Error","module","exports","fetch","default","bind","Headers","Request","Response","FormData","link","document","querySelector","shortenItButton","appendingUl","linkAppendTemplate","LINKS","shortLINKS","onclick","e","target","className","innerTextAll","closest","innerText","arrayOfinnerTextAll","split","navigator","clipboard","writeText","scode","require","shortenLinksArray","renderLinks","linksStringArray","i","length","renderLinkToTemplate","addEventListener","preventDefault","value","classList","add","placeholder","remove","linkname","shortenLink","short","url","then","res","shortenedLink","result","short_link","push","saveToLinksLocal","catch","error","alert","templateClone","content","cloneNode","urlname","shortUrlName","appendChild","Link","linksRender","localStorage","getItem","JSON","parse","Name","arr","setItem","stringify"],"mappings":"AEAA,ACAA,IAAMc,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAb;AHAA,AECA,ACAA,IAAMC,UHCN,KGDqB,GAAGF,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAxB;ADCA,ADFA,AEEA,IAAME,WAAW,GAAGH,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAApB;AHCA,AEAA,ADFAX,AEEA,IHAIL,AGAEmB,EFFA,CAACb,MDEM,CCFb,EDEgB,CCFC,KEEO,GFFAL,AEEGc,GHAC,CCFX,IEEkB,CAACC,aAAT,CAAuB,qBAAvB,CFFHf,AEExB,IFFiB,MAAe,QAAf,GAA0BA,IAAI,CAACY,QAA/B,GAA0CX,MAAM,CAACW,QAAlE;ADGC,AEAD,ACCA,IAAMO,KAAK,GAAG,WAAd;AHAC,AEAD,ACCA,IAAMC,UAAU,GAAG,gBAAnB;AHAC,AEAD;AFCC,AEAD,ACCAnB,MHDK,AGCC,CAACoB,MHDKrB,CGCZ,GHDK,AGCY,KHDI,KGCMsB,CAAV,EAAa,GHD7B,EAAiC;AAAE,AECpC,ACCE,MAAIA,CAAC,CAACC,GHFmCvB,GGErC,CHF8B,AGErBwB,SAAT,KAAuB,MAA3B,EAAmC;AHFa,AEElD,ACCI,QAAMC,YAAY,GAAGH,CAAC,CAACC,MAAF,CAASG,OAAT,CAAiB,qBAAjB,EAAwCC,SAA7D,CADiC,CAEjC;ADDJ;AFFC,AEGD,ACCI,MHJC,EGIKC,KHJE3B,MAAP,KAAkB,GGIM,GAAGwB,KHJ/B,EAAmC,KGIQ,CAACI,KAAb,CAAmB,IAAnB,EAAyB,CAAzB,CAA5B;AHJkC,AEItC,ACCIC,IAAAA,OHLyC7B,EGKhC,CAAC8B,GHLwB,MGKlC,CAAoBC,SAApB,CAA8BJ,mBAA9B;AHLkD,AEKtD,ACCIN,IAAAA,CAAC,CAACC,MAAF,CAASI,SAAT,GAAqB,aAArB;ADAJ,ACCG;AHNF,AEMD,ACCC,CARD,KHCK,OAAOzB,MAAP,KAAkB,WAAtB,EAAmC;AAAE,AEOtC,WFP6CA,MAAP;AAAgB,AEQtD,ACCA,IAAI+B,KAAK,GAAGC,OAAO,CAAC,WAAD,CAAnB;ADAA;AFRC,AESD,ACCA,IAAMC,IHVC,IAAIhC,KAAJ,CAAU,GGUM,GAAGiC,WAAW,CAAChB,UAAD,CAArC,EAEA,CHZO,CAAN;AACA,AESD,CFjBA;AEkBA,ACEA,IAAMiB,gBAAgB,GAAGD,WAAW,CAACjB,KAAD,CAApC,EAEA;AHZA,AESA,IFTIjB,MAAM,GAAGH,SAAS,EAAtB;AAEAK,AEQA,ACIA,KAAK,CHZC,CAACC,EGYEiC,CAAC,GAAG,CHZb,AGYA,EAAgBA,CHZCjC,AGYA,GAAGgC,IHZI,GAAGnC,MAAM,CAACI,EGYE,CAACiC,EHZrC,EAEA,EGUA,EAA6CD,CAAC,EAA9C,EAAkD;ADHlD,ACIEE,EAAAA,oBAAoB,CAACH,gBAAgB,CAACC,CAAD,CAAjB,EAAsBH,iBAAiB,CAACG,CAAD,CAAvC,CAApB;AHVF,AEOA,ACIC,IHXGpC,MAAM,CAACI,KAAX,EAAkB;AACjBD,AEOD,EFPCA,OAAO,CAACE,OAAR,GAAkBL,MAAM,CAACI,KAAP,CAAaE,IAAb,CAAkBN,MAAlB,CAAlB;AACA,AEOD,ACIAc,eAAe,CAACyB,gBAAhB,CAAiC,OAAjC,EAA0C,UAACnB,CAAD,EAAO;ADHjD,ACIEA,EAAAA,CAAC,CAACoB,cAAF;AHVFrC,AEOA,OFPO,CAACI,OAAR,GAAkBP,MAAM,CAACO,OAAzB;AACAJ,AEOA,ACGE,MAAIQ,CHVC,CAACH,EGUE,CAACiC,IHVX,CGUM,EHVYzC,EGUE,EAAlB,EHVsB,AGUA,CHVCQ,OAAzB;AACAL,AEOA,ACGIQ,IAAAA,GHVG,CAACF,AGUA,CAACiC,OHVT,EGUI,CHVe1C,AGUA2C,GAAf,CAAmB,EHVE,CAAClC,KGUtB,GHVJ;AEQA,ACGIE,IAAAA,IAAI,CAACiC,WAAL,GAAmB,4BAAnB;ADFJ,ACGI;ADFJ,ACGG,GAJD,MAIO;ADFT,ACGIjC,IAAAA,IAAI,CAAC+B,SAAL,CAAeG,MAAf,CAAsB,QAAtB;ADFJ,ACGIlC,IAAAA,IAAI,CAACiC,WAAL,GAAmB,sBAAnB;ADFJ,ACGG;ADFH;AACA,ACGE,MAAME,QAAQ,GAAGnC,IAAI,CAAC8B,KAAtB,CAX+C,CAY/C;ADHF,ACIE;ADHF,ACIE;ADHF;AACA,ACGEM,EAAAA,WAAW,CAACD,QAAD,CAAX;ADFF,ACGEnC,EAAAA,IAAI,CAAC8B,KAAL,GAAa,EAAb;ADFF,ACGC,CAjBD;ADeA;AACA,ACGA,SAASM,WAAT,CAAqBD,QAArB,EAA+B;ADF/B,ACGEf,EAAAA,KAAK,CACFiB,KADH,CACS;ADHX,ACGaC,IAAAA,GAAG,EAAEH;ADFlB,ACEW,GADT,EAEGI,IAFH,CAEQ,UAACC,GAAD,EAAS;ADFnB,ACGM,QAAMC,aAAa,GAAGD,GAAG,CAACE,MAAJ,CAAWC,UAAjC;ADFN,ACGMrB,IAAAA,iBAAiB,CAACsB,IAAlB,CAAuBH,aAAvB;ADFN,ACGMjB,IAAAA,gBAAgB,CAACoB,IAAjB,CAAsBT,QAAtB;ADFN,ACGMU,IAAAA,gBAAgB,CAACvC,KAAD,EAAQkB,gBAAR,CAAhB;ADFN,ACGMqB,IAAAA,gBAAgB,CAACtC,UAAD,EAAae,iBAAb,CAAhB;ADFN,ACGMK,IAAAA,oBAAoB,CAACQ,QAAD,EAAWM,aAAX,CAApB;ADFN,ACGK,GATH,EAUGK,KAVH,CAUS,UAACC,KAAD;ADHX,ACGW,WAAWC,KAAK,CAAC,iBAAD,CAAhB;ADFX,ACEW,GAVT;ADSF,ACEC;ADDD;AACA,ACEA,SAASrB,oBAAT,CAA8BQ,QAA9B,EAAwCM,aAAxC,EAAuD;ADDvD,ACEE,MAAMQ,aAAa,GAAG5C,kBAAkB,CAAC6C,OAAnB,CAA2BC,SAA3B,CAAqC,IAArC,CAAtB;ADDF,ACEE,MAAMC,OAAO,GAAGH,aAAa,CAAC/C,aAAd,CAA4B,YAA5B,CAAhB;ADDF,ACEE,MAAMmD,YAAY,GAAGJ,aAAa,CAAC/C,aAAd,CAA4B,YAA5B,CAArB;ADDF,ACEEmD,EAAAA,YAAY,CAACvC,SAAb,GAAyB2B,aAAzB;ADDF,ACEEW,EAAAA,OAAO,CAACtC,SAAR,GAAoBqB,QAApB;ADDF,ACEE/B,EAAAA,WAAW,CAACkD,WAAZ,CAAwBL,aAAxB;ADDF,ACEC;ADDD;AACA,ACCA,SAAS1B,WAAT,CAAqBgC,IAArB,EAA2B;ADA3B,ACCE,MAAMC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqBH,IAArB,CAApB;ADAF,ACCE,SAAOI,IAAI,CAACC,KAAL,CAAWJ,WAAX,KAA2B,EAAlC;ADAF,ACCC;ADAD;AACA,ACCA,SAASX,gBAAT,CAA0BgB,IAA1B,EAAgCC,GAAhC,EAAqC;ADArC,ACCEL,EAAAA,YAAY,CAACM,OAAb,CAAqBF,IAArB,EAA2BF,IAAI,CAACK,SAAL,CAAeF,GAAf,CAA3B;ADAF,ACCC;ADAD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nif (global.fetch) {\n\texports.default = global.fetch.bind(global);\n}\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;\n","var fetch = require(\"node-fetch\");\r\nvar FormData = require(\"form-data\");\r\nclass APIError extends Error {\r\n/**\r\n* @param {Object} params - Параметры ошибки\r\n* @param {Number} params.code - Код ошибки\r\n* @param {String} params.message - Сообщение ошибки\r\n*/\r\nconstructor(params) {\r\nconst { \r\n\t\tcode, \r\n\t\tmessage\r\n \t  } = params;\r\n\r\nsuper(message);\r\n\r\nthis.code = code;\r\nthis.message = message;\r\nthis.name = this.constructor.name;\r\n\r\nError.captureStackTrace(this, this.constructor);\r\n}\r\n};\r\n\r\nasync function short(params) {\r\n\tif (!params.url)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"URL\\\"\"\r\n\t});\r\n\tvar url = encodeURI(params.url);\r\n\tvar result = (await (await fetch(`https://api.shrtco.de/v2/shorten?url=${url}`)).json());\r\n\tif (result.ok === true){\r\n\t\treturn result;\r\n\t} else {\r\n\t\tthrow new APIError({\r\n\t\t\tcode: result.error_code,\r\n\t\t\tmessage: result.error\r\n\t\t});\r\n\t}\r\n};\r\nasync function info(params) {\r\n\tif (!params.code)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"code\\\"\"\r\n\t});\r\n\tvar code = encodeURI(params.code);\r\n\tvar result = (await (await fetch(`https://api.shrtco.de/v2/info?code=${code}`)).json());\r\n\tif (result.ok === true){\r\n\t\treturn result;\r\n\t} else {\r\n\t\tthrow new APIError({\r\n\t\t\tcode: result.error_code,\r\n\t\t\tmessage: result.error\r\n\t\t});\r\n\t}\r\n};\r\n\r\nasync function custom(params) {\r\n\tif (!params.url)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"url\\\"\"\r\n\t});\r\n\tif (!params.code)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"code\\\"\"\r\n\t});\r\n\tvar url = encodeURI(params.url);\r\n\tvar code = encodeURI(params.code);\r\n\tvar form = new FormData();\r\n\tform.append(\"url\", url);\r\n\tform.append(\"custom_code\", code);\r\n\tvar result = (await (await fetch(\"https://api.shrtco.de/v2/shorten\", {\r\n\t\tmethod: \"POST\", \r\n\t\tbody: form \r\n\t})).json());\r\n\tif (result.ok === true) {\r\n\t\treturn result;\r\n\t} else {\r\n\t\tthrow new APIError({\r\n\t\t\tcode: result.error_code,\r\n\t\t\tmessage: result.error\r\n\t\t});\r\n\t}\r\n};\r\n\r\nasync function emoji(params) {\r\n\tif (!params.url)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"url\\\"\"\r\n\t});\r\n\tvar url = encodeURI(params.url);\r\n\tvar result = (await (await fetch(`https://api.shrtco.de/v2/shorten?emoji&url=${url}`)).json());\r\n\tif (result.ok === true){\r\n\t\treturn result;\r\n\t} else {\r\n\t\tthrow new APIError({\r\n\t\t\tcode: result.error_code,\r\n\t\t\tmessage: result.error\r\n\t\t});\r\n\t}\r\n};\r\n/*\r\n*/\r\nasync function pass(params) {\r\n\tif (!params.url)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"url\\\"\"\r\n\t});\r\n\tif (!params.pass)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"pass\\\"\"\r\n\t});\r\n\tvar url = encodeURI(params.url);\r\n\tvar pass = encodeURI(params.pass);\r\n\tvar form = new FormData();\r\n\tform.append(\"url\", url);\r\n\tform.append(\"password\", pass);\r\n\tvar result = (await (await fetch(\"https://api.shrtco.de/v2/shorten\", {\r\n\t\tmethod: \"POST\", \r\n\t\tbody: form \r\n\t})).json());\r\n\tif (result.ok === true) {\r\n\t\treturn result;\r\n\t} else {\r\n\t\tthrow new APIError({\r\n\t\t\tcode: result.error_code,\r\n\t\t\tmessage: result.error\r\n\t\t});\r\n\t}\r\n};\r\nmodule.exports = {\r\n\tshort,\r\n\tinfo,\r\n\tcustom,\r\n\temoji,\r\n\tpass\r\n};","const link = document.querySelector(\"#link\");\r\nconst shortenItButton = document.querySelector(\"#shortenIt\");\r\nconst appendingUl = document.querySelector(\"#linkAppend\");\r\nconst linkAppendTemplate = document.querySelector(\"#linkAppendTemplate\");\r\n\r\nconst LINKS = \"Links_KEY\";\r\nconst shortLINKS = \"shortLinks_KEY\";\r\n\r\nwindow.onclick = function (e) {\r\n  if (e.target.className === \"copy\") {\r\n    const innerTextAll = e.target.closest(\".linkshortandbutton\").innerText;\r\n    // get the array of text and seperate them using split and then taking the first one copying it to the clipboard \"Copyed ! 😎\";\r\n    const arrayOfinnerTextAll = innerTextAll.split(\"\\n\")[0];\r\n    navigator.clipboard.writeText(arrayOfinnerTextAll);\r\n    e.target.innerText = \"Copyed ! 😎\";\r\n  }\r\n};\r\n\r\nlet scode = require(\"shrtco.de\");\r\n\r\nconst shortenLinksArray = renderLinks(shortLINKS);\r\n\r\n// Creating a array fro storing the links in localStorage and the rendering them using forEach\r\nconst linksStringArray = renderLinks(LINKS);\r\n\r\n// shortenLinksArray.forEach(renderLinkToTemplate);\r\n\r\nfor (let i = 0; i < linksStringArray.length; i++) {\r\n  renderLinkToTemplate(linksStringArray[i], shortenLinksArray[i]);\r\n}\r\n\r\nshortenItButton.addEventListener(\"click\", (e) => {\r\n  e.preventDefault;\r\n  if (link.value == \"\") {\r\n    link.classList.add(\"active\");\r\n    link.placeholder = \"Paste your 🔗 here FIRST ✌\";\r\n    return;\r\n  } else {\r\n    link.classList.remove(\"active\");\r\n    link.placeholder = \"Paste the 🔗 here...\";\r\n  }\r\n\r\n  const linkname = link.value;\r\n  //   saving it to the localStorage\r\n  //   rendering it to the template wiz appending and calling it in the promise below\r\n  //   Shortnening it using the api\r\n  shortenLink(linkname);\r\n  link.value = \"\";\r\n});\r\n\r\nfunction shortenLink(linkname) {\r\n  scode\r\n    .short({ url: linkname })\r\n    .then((res) => {\r\n      const shortenedLink = res.result.short_link;\r\n      shortenLinksArray.push(shortenedLink);\r\n      linksStringArray.push(linkname);\r\n      saveToLinksLocal(LINKS, linksStringArray);\r\n      saveToLinksLocal(shortLINKS, shortenLinksArray);\r\n      renderLinkToTemplate(linkname, shortenedLink);\r\n    })\r\n    .catch((error) => alert(\"Wrong URL 🙅‍♂️\"));\r\n}\r\n\r\nfunction renderLinkToTemplate(linkname, shortenedLink) {\r\n  const templateClone = linkAppendTemplate.content.cloneNode(true);\r\n  const urlname = templateClone.querySelector(\"#link_copy\");\r\n  const shortUrlName = templateClone.querySelector(\"#shortened\");\r\n  shortUrlName.innerText = shortenedLink;\r\n  urlname.innerText = linkname;\r\n  appendingUl.appendChild(templateClone);\r\n}\r\nfunction renderLinks(Link) {\r\n  const linksRender = localStorage.getItem(Link);\r\n  return JSON.parse(linksRender) || [];\r\n}\r\n\r\nfunction saveToLinksLocal(Name, arr) {\r\n  localStorage.setItem(Name, JSON.stringify(arr));\r\n}\r\n"]}