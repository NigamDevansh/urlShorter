{"version":3,"sources":["node_modules/node-fetch/browser.js","node_modules/shrtco.de/node_modules/form-data/lib/browser.js","node_modules/shrtco.de/index.js","script.js"],"names":["getGlobal","self","window","global","Error","module","exports","fetch","default","bind","Headers","Request","Response","FormData","link","document","querySelector","shortenItButton","appendingUl","linkAppendTemplate","LINKS","shortLINKS","onclick","e","target","className","innerTextAll","arrayOfinnerTextAll","closest","innerText","split","navigator","clipboard","writeText","scode","require","shortenLinksArray","renderLinks","linksStringArray","i","length","renderLinkToTemplate","shortenLink","linkname","short","url","then","res","shortenedLink","result","short_link","push","saveToLinksLocal","catch","error","alert","templateClone","content","cloneNode","urlname","appendChild","Link","linksRender","localStorage","getItem","JSON","parse","Name","arr","setItem","stringify","addEventListener","preventDefault","value","classList","add","placeholder","remove"],"mappings":"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","file":"script.0e5ecd45.js","sourceRoot":"..","sourcesContent":["\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nif (global.fetch) {\n\texports.default = global.fetch.bind(global);\n}\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;\n","var fetch = require(\"node-fetch\");\r\nvar FormData = require(\"form-data\");\r\nclass APIError extends Error {\r\n/**\r\n* @param {Object} params - Параметры ошибки\r\n* @param {Number} params.code - Код ошибки\r\n* @param {String} params.message - Сообщение ошибки\r\n*/\r\nconstructor(params) {\r\nconst { \r\n\t\tcode, \r\n\t\tmessage\r\n \t  } = params;\r\n\r\nsuper(message);\r\n\r\nthis.code = code;\r\nthis.message = message;\r\nthis.name = this.constructor.name;\r\n\r\nError.captureStackTrace(this, this.constructor);\r\n}\r\n};\r\n\r\nasync function short(params) {\r\n\tif (!params.url)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"URL\\\"\"\r\n\t});\r\n\tvar url = encodeURI(params.url);\r\n\tvar result = (await (await fetch(`https://api.shrtco.de/v2/shorten?url=${url}`)).json());\r\n\tif (result.ok === true){\r\n\t\treturn result;\r\n\t} else {\r\n\t\tthrow new APIError({\r\n\t\t\tcode: result.error_code,\r\n\t\t\tmessage: result.error\r\n\t\t});\r\n\t}\r\n};\r\nasync function info(params) {\r\n\tif (!params.code)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"code\\\"\"\r\n\t});\r\n\tvar code = encodeURI(params.code);\r\n\tvar result = (await (await fetch(`https://api.shrtco.de/v2/info?code=${code}`)).json());\r\n\tif (result.ok === true){\r\n\t\treturn result;\r\n\t} else {\r\n\t\tthrow new APIError({\r\n\t\t\tcode: result.error_code,\r\n\t\t\tmessage: result.error\r\n\t\t});\r\n\t}\r\n};\r\n\r\nasync function custom(params) {\r\n\tif (!params.url)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"url\\\"\"\r\n\t});\r\n\tif (!params.code)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"code\\\"\"\r\n\t});\r\n\tvar url = encodeURI(params.url);\r\n\tvar code = encodeURI(params.code);\r\n\tvar form = new FormData();\r\n\tform.append(\"url\", url);\r\n\tform.append(\"custom_code\", code);\r\n\tvar result = (await (await fetch(\"https://api.shrtco.de/v2/shorten\", {\r\n\t\tmethod: \"POST\", \r\n\t\tbody: form \r\n\t})).json());\r\n\tif (result.ok === true) {\r\n\t\treturn result;\r\n\t} else {\r\n\t\tthrow new APIError({\r\n\t\t\tcode: result.error_code,\r\n\t\t\tmessage: result.error\r\n\t\t});\r\n\t}\r\n};\r\n\r\nasync function emoji(params) {\r\n\tif (!params.url)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"url\\\"\"\r\n\t});\r\n\tvar url = encodeURI(params.url);\r\n\tvar result = (await (await fetch(`https://api.shrtco.de/v2/shorten?emoji&url=${url}`)).json());\r\n\tif (result.ok === true){\r\n\t\treturn result;\r\n\t} else {\r\n\t\tthrow new APIError({\r\n\t\t\tcode: result.error_code,\r\n\t\t\tmessage: result.error\r\n\t\t});\r\n\t}\r\n};\r\n/*\r\n*/\r\nasync function pass(params) {\r\n\tif (!params.url)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"url\\\"\"\r\n\t});\r\n\tif (!params.pass)throw new APIError({\r\n\t\tcode: -2,\r\n\t\tmessage: \"You forgot parameter \\\"pass\\\"\"\r\n\t});\r\n\tvar url = encodeURI(params.url);\r\n\tvar pass = encodeURI(params.pass);\r\n\tvar form = new FormData();\r\n\tform.append(\"url\", url);\r\n\tform.append(\"password\", pass);\r\n\tvar result = (await (await fetch(\"https://api.shrtco.de/v2/shorten\", {\r\n\t\tmethod: \"POST\", \r\n\t\tbody: form \r\n\t})).json());\r\n\tif (result.ok === true) {\r\n\t\treturn result;\r\n\t} else {\r\n\t\tthrow new APIError({\r\n\t\t\tcode: result.error_code,\r\n\t\t\tmessage: result.error\r\n\t\t});\r\n\t}\r\n};\r\nmodule.exports = {\r\n\tshort,\r\n\tinfo,\r\n\tcustom,\r\n\temoji,\r\n\tpass\r\n};","const link = document.querySelector(\"#link\");\r\nconst shortenItButton = document.querySelector(\"#shortenIt\");\r\nconst appendingUl = document.querySelector(\"#linkAppend\");\r\nconst linkAppendTemplate = document.querySelector(\"#linkAppendTemplate\");\r\n\r\nconst LINKS = \"Links_KEY\";\r\nconst shortLINKS = \"shortLinks_KEY\";\r\n\r\nwindow.onclick = function (e) {\r\n  if (e.target.className === \"copy\") {\r\n    const innerTextAll = e.target.closest(\".linkshortandbutton\").innerText;\r\n    // get the array of text and seperate them using split and then taking the first one copying it to the clipboard \"Copyed ! 😎\";\r\n    const arrayOfinnerTextAll = innerTextAll.split(\"\\n\")[0];\r\n    navigator.clipboard.writeText(arrayOfinnerTextAll);\r\n    e.target.innerText = \"Copyed ! 😎\";\r\n  }\r\n};\r\n\r\nlet scode = require(\"shrtco.de\");\r\n\r\nconst shortenLinksArray = renderLinks(shortLINKS);\r\n\r\n// Creating a array fro storing the links in localStorage and the rendering them using forEach\r\nconst linksStringArray = renderLinks(LINKS);\r\n\r\n// shortenLinksArray.forEach(renderLinkToTemplate);\r\n\r\nfor (let i = 0; i < linksStringArray.length; i++) {\r\n  renderLinkToTemplate(linksStringArray[i], shortenLinksArray[i]);\r\n}\r\n\r\nshortenItButton.addEventListener(\"click\", (e) => {\r\n  e.preventDefault;\r\n  if (link.value == \"\") {\r\n    link.classList.add(\"active\");\r\n    link.placeholder = \"Paste your 🔗 here FIRST ✌\";\r\n    return;\r\n  } else {\r\n    link.classList.remove(\"active\");\r\n    link.placeholder = \"Paste the 🔗 here...\";\r\n  }\r\n\r\n  const linkname = link.value;\r\n  //   saving it to the localStorage\r\n  //   rendering it to the template wiz appending and calling it in the promise below\r\n  //   Shortnening it using the api\r\n  shortenLink(linkname);\r\n  link.value = \"\";\r\n});\r\n\r\nfunction shortenLink(linkname) {\r\n  scode\r\n    .short({ url: linkname })\r\n    .then((res) => {\r\n      const shortenedLink = res.result.short_link;\r\n      shortenLinksArray.push(shortenedLink);\r\n      linksStringArray.push(linkname);\r\n      saveToLinksLocal(LINKS, linksStringArray);\r\n      saveToLinksLocal(shortLINKS, shortenLinksArray);\r\n      renderLinkToTemplate(linkname, shortenedLink);\r\n    })\r\n    .catch((error) => alert(\"Wrong URL 🙅‍♂️\"));\r\n}\r\n\r\nfunction renderLinkToTemplate(linkname, shortenedLink) {\r\n  const templateClone = linkAppendTemplate.content.cloneNode(true);\r\n  const urlname = templateClone.querySelector(\"#link_copy\");\r\n  const shortUrlName = templateClone.querySelector(\"#shortened\");\r\n  shortUrlName.innerText = shortenedLink;\r\n  urlname.innerText = linkname;\r\n  appendingUl.appendChild(templateClone);\r\n}\r\nfunction renderLinks(Link) {\r\n  const linksRender = localStorage.getItem(Link);\r\n  return JSON.parse(linksRender) || [];\r\n}\r\n\r\nfunction saveToLinksLocal(Name, arr) {\r\n  localStorage.setItem(Name, JSON.stringify(arr));\r\n}\r\n"]}